\doxysection{include/minimax/evaluation.h File Reference}
\hypertarget{evaluation_8h}{}\label{evaluation_8h}\index{include/minimax/evaluation.h@{include/minimax/evaluation.h}}
{\ttfamily \#include $<$limits.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include "{}structs/gamestate.\+h"{}}\newline
{\ttfamily \#include "{}structs/stack.\+h"{}}\newline
{\ttfamily \#include "{}config.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{evaluation_8h_a48395e9d79adaab068fd3d77cf395860}{PAWNVALUE}}~1
\item 
\#define \mbox{\hyperlink{evaluation_8h_a2f3856c4d24d6e2d00579d01b15dd1b0}{ROOKVALUE}}~5
\item 
\#define \mbox{\hyperlink{evaluation_8h_ad89ea129c98e29cdb2388f2794759d49}{KNIGHTVALUE}}~3
\item 
\#define \mbox{\hyperlink{evaluation_8h_a8907c09b2f398bc5053124bd02be1c8a}{BISHOPVALUE}}~3
\item 
\#define \mbox{\hyperlink{evaluation_8h_a0a4e0baff20a85bede270f28cac7d5fc}{QUEENVALUE}}~9
\item 
\#define \mbox{\hyperlink{evaluation_8h_abec42f1abae3c920d7804783ac4e8eef}{CHECKMATE}}~1000
\item 
\#define \mbox{\hyperlink{evaluation_8h_a4ccc9878008def89d325d0bb7efdbd6b}{CHECK}}~20
\item 
\#define \mbox{\hyperlink{evaluation_8h_a7a7cd353a6274e8c0dbb698113e7e194}{DRAW}}~0
\item 
\#define \mbox{\hyperlink{evaluation_8h_ac082a3c0c617938697c2385455004149}{CASTLE}}~10
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
DWORD WINAPI \mbox{\hyperlink{evaluation_8h_abe33aef1087eaaf15a3a6777e688436d}{evaluation\+Worker}} (LPVOID lp\+Param)
\item 
\mbox{\hyperlink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{evaluation_8h_aa317f8ed226dbcc5e001a5750c37a2c9}{evaluation\+Thread\+Pool\+Init}} (\mbox{\hyperlink{structcommand__args}{command\+\_\+args}} \texorpdfstring{$\ast$}{*}args, \mbox{\hyperlink{struct_gamestate_tree_node}{Gamestate\+Tree\+Node}} \texorpdfstring{$\ast$}{*}src\+Tree)
\item 
\mbox{\hyperlink{struct_gamestate}{Gamestate}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{evaluation_8h_a6639a209f2a893da95483020eff5bc2b}{evaluate\+Last\+Gamestate}} (\mbox{\hyperlink{struct_gamestate_tree_node}{Gamestate\+Tree\+Node}} \texorpdfstring{$\ast$}{*}gamestate\+Tree\+Node)
\item 
void \mbox{\hyperlink{evaluation_8h_a6dcefefcc70cadf47909988dddf6022f}{destroy\+Evaluation\+Thread\+Pool}} (\mbox{\hyperlink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool}} \texorpdfstring{$\ast$}{*}pool)
\item 
void \mbox{\hyperlink{evaluation_8h_a41f66b1095452d025bb35d555bde5903}{evaluation\+\_\+start}} (\mbox{\hyperlink{structcommand__args}{command\+\_\+args}} \texorpdfstring{$\ast$}{*}args)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file includes function to do with evaluating chess positions as well as the evaluation worker 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{evaluation_8h_a8907c09b2f398bc5053124bd02be1c8a}\index{evaluation.h@{evaluation.h}!BISHOPVALUE@{BISHOPVALUE}}
\index{BISHOPVALUE@{BISHOPVALUE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{BISHOPVALUE}{BISHOPVALUE}}
{\footnotesize\ttfamily \label{evaluation_8h_a8907c09b2f398bc5053124bd02be1c8a} 
\#define BISHOPVALUE~3}

\Hypertarget{evaluation_8h_ac082a3c0c617938697c2385455004149}\index{evaluation.h@{evaluation.h}!CASTLE@{CASTLE}}
\index{CASTLE@{CASTLE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{CASTLE}{CASTLE}}
{\footnotesize\ttfamily \label{evaluation_8h_ac082a3c0c617938697c2385455004149} 
\#define CASTLE~10}

\Hypertarget{evaluation_8h_a4ccc9878008def89d325d0bb7efdbd6b}\index{evaluation.h@{evaluation.h}!CHECK@{CHECK}}
\index{CHECK@{CHECK}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{CHECK}{CHECK}}
{\footnotesize\ttfamily \label{evaluation_8h_a4ccc9878008def89d325d0bb7efdbd6b} 
\#define CHECK~20}

\Hypertarget{evaluation_8h_abec42f1abae3c920d7804783ac4e8eef}\index{evaluation.h@{evaluation.h}!CHECKMATE@{CHECKMATE}}
\index{CHECKMATE@{CHECKMATE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{CHECKMATE}{CHECKMATE}}
{\footnotesize\ttfamily \label{evaluation_8h_abec42f1abae3c920d7804783ac4e8eef} 
\#define CHECKMATE~1000}

\Hypertarget{evaluation_8h_a7a7cd353a6274e8c0dbb698113e7e194}\index{evaluation.h@{evaluation.h}!DRAW@{DRAW}}
\index{DRAW@{DRAW}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{DRAW}{DRAW}}
{\footnotesize\ttfamily \label{evaluation_8h_a7a7cd353a6274e8c0dbb698113e7e194} 
\#define DRAW~0}

\Hypertarget{evaluation_8h_ad89ea129c98e29cdb2388f2794759d49}\index{evaluation.h@{evaluation.h}!KNIGHTVALUE@{KNIGHTVALUE}}
\index{KNIGHTVALUE@{KNIGHTVALUE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{KNIGHTVALUE}{KNIGHTVALUE}}
{\footnotesize\ttfamily \label{evaluation_8h_ad89ea129c98e29cdb2388f2794759d49} 
\#define KNIGHTVALUE~3}

\Hypertarget{evaluation_8h_a48395e9d79adaab068fd3d77cf395860}\index{evaluation.h@{evaluation.h}!PAWNVALUE@{PAWNVALUE}}
\index{PAWNVALUE@{PAWNVALUE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{PAWNVALUE}{PAWNVALUE}}
{\footnotesize\ttfamily \label{evaluation_8h_a48395e9d79adaab068fd3d77cf395860} 
\#define PAWNVALUE~1}

\Hypertarget{evaluation_8h_a0a4e0baff20a85bede270f28cac7d5fc}\index{evaluation.h@{evaluation.h}!QUEENVALUE@{QUEENVALUE}}
\index{QUEENVALUE@{QUEENVALUE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{QUEENVALUE}{QUEENVALUE}}
{\footnotesize\ttfamily \label{evaluation_8h_a0a4e0baff20a85bede270f28cac7d5fc} 
\#define QUEENVALUE~9}

\Hypertarget{evaluation_8h_a2f3856c4d24d6e2d00579d01b15dd1b0}\index{evaluation.h@{evaluation.h}!ROOKVALUE@{ROOKVALUE}}
\index{ROOKVALUE@{ROOKVALUE}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{ROOKVALUE}{ROOKVALUE}}
{\footnotesize\ttfamily \label{evaluation_8h_a2f3856c4d24d6e2d00579d01b15dd1b0} 
\#define ROOKVALUE~5}



\doxysubsection{Function Documentation}
\Hypertarget{evaluation_8h_a6dcefefcc70cadf47909988dddf6022f}\index{evaluation.h@{evaluation.h}!destroyEvaluationThreadPool@{destroyEvaluationThreadPool}}
\index{destroyEvaluationThreadPool@{destroyEvaluationThreadPool}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{destroyEvaluationThreadPool()}{destroyEvaluationThreadPool()}}
{\footnotesize\ttfamily \label{evaluation_8h_a6dcefefcc70cadf47909988dddf6022f} 
void destroy\+Evaluation\+Thread\+Pool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool}} \texorpdfstring{$\ast$}{*}}]{pool}{}\end{DoxyParamCaption})}

destroys the \doxylink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool} struct and all needed fields


\begin{DoxyParams}{Parameters}
{\em pool} & the struct to destroy\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
ERROR\+\_\+\+MEMORY\+\_\+\+MALLOC\+\_\+\+FAILED\+: if malloc failed 
\end{DoxyWarning}
\Hypertarget{evaluation_8h_a6639a209f2a893da95483020eff5bc2b}\index{evaluation.h@{evaluation.h}!evaluateLastGamestate@{evaluateLastGamestate}}
\index{evaluateLastGamestate@{evaluateLastGamestate}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{evaluateLastGamestate()}{evaluateLastGamestate()}}
{\footnotesize\ttfamily \label{evaluation_8h_a6639a209f2a893da95483020eff5bc2b} 
\mbox{\hyperlink{struct_gamestate}{Gamestate}} \texorpdfstring{$\ast$}{*} evaluate\+Last\+Gamestate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_gamestate_tree_node}{Gamestate\+Tree\+Node}} \texorpdfstring{$\ast$}{*}}]{gamestate\+Tree\+Node}{}\end{DoxyParamCaption})}

evaluates the best evaluation value out of all children and sets it for the gamestate. This should only be used with Gamestate\+Tree\+Nodes that have children that are already evaluated


\begin{DoxyParams}{Parameters}
{\em gamestate\+Tree\+Node} & the node to evaluate \\
\hline
\end{DoxyParams}
\Hypertarget{evaluation_8h_a41f66b1095452d025bb35d555bde5903}\index{evaluation.h@{evaluation.h}!evaluation\_start@{evaluation\_start}}
\index{evaluation\_start@{evaluation\_start}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{evaluation\_start()}{evaluation\_start()}}
{\footnotesize\ttfamily \label{evaluation_8h_a41f66b1095452d025bb35d555bde5903} 
void evaluation\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcommand__args}{command\+\_\+args}} \texorpdfstring{$\ast$}{*}}]{args}{}\end{DoxyParamCaption})}

starts evaluating the gamestate tree


\begin{DoxyParams}{Parameters}
{\em args} & command args struct pointer with configuration\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
ERROR\+\_\+\+THREADS\+\_\+\+TIMEOUT\+: if a thread took longer than the defined MAX\+\_\+\+WAIT\+\_\+\+TIME 
\end{DoxyWarning}
\Hypertarget{evaluation_8h_aa317f8ed226dbcc5e001a5750c37a2c9}\index{evaluation.h@{evaluation.h}!evaluationThreadPoolInit@{evaluationThreadPoolInit}}
\index{evaluationThreadPoolInit@{evaluationThreadPoolInit}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{evaluationThreadPoolInit()}{evaluationThreadPoolInit()}}
{\footnotesize\ttfamily \label{evaluation_8h_aa317f8ed226dbcc5e001a5750c37a2c9} 
\mbox{\hyperlink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool}} \texorpdfstring{$\ast$}{*} evaluation\+Thread\+Pool\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcommand__args}{command\+\_\+args}} \texorpdfstring{$\ast$}{*}}]{args}{, }\item[{\mbox{\hyperlink{struct_gamestate_tree_node}{Gamestate\+Tree\+Node}} \texorpdfstring{$\ast$}{*}}]{src\+Tree}{}\end{DoxyParamCaption})}

initializes all variables of the struct


\begin{DoxyParams}{Parameters}
{\em args} & command args struct pointer with configuration \\
\hline
{\em src\+Tree} & the base node for the evaluation\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: the initialized \doxylink{struct_evaluation_thread_pool}{Evaluation\+Thread\+Pool} pointer 
\end{DoxyReturn}
\Hypertarget{evaluation_8h_abe33aef1087eaaf15a3a6777e688436d}\index{evaluation.h@{evaluation.h}!evaluationWorker@{evaluationWorker}}
\index{evaluationWorker@{evaluationWorker}!evaluation.h@{evaluation.h}}
\doxysubsubsection{\texorpdfstring{evaluationWorker()}{evaluationWorker()}}
{\footnotesize\ttfamily \label{evaluation_8h_abe33aef1087eaaf15a3a6777e688436d} 
DWORD WINAPI evaluation\+Worker (\begin{DoxyParamCaption}\item[{LPVOID}]{lp\+Param}{}\end{DoxyParamCaption})}

The function an evaluation worker thread executes to evaluate gamestates For evaluating moves it uses the internal function evaluate


\begin{DoxyParams}{Parameters}
{\em lp\+Param} & The Evaluation\+Worker\+Pool\+Thread with all needed variables set\\
\hline
\end{DoxyParams}
goes through each child of the base node and evaluates the nodes. It does this by going further into the tree until a node with no children is found. It evaluates that node and then goes up the stack If more than 1 child have the same evaluation and it is the best, the progarm will only save the first gamestate Since no further calculations are done, it does not matter what gamestate will be taken as only the evaluation matters 